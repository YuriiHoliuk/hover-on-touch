function HoverOnTouch(){this.init(),this.rewriteLinks(),this.touchEvents()}function findParent(t,e){if((e.nodeName||e.tagName).toLowerCase()===t.toLowerCase())return e;for(;e=e.parentNode;)if((e.nodeName||e.tagName).toLowerCase()===t.toLowerCase())return e;return null}function callback(t){var t=window.e||t;"A"===t.target.tagName&&console.log(t)}function resetGif(t){var e=t,o=e.src;e.src="#",e.src=o}function restartImagesIfGif(t){for(var e=t.length-1;e>=0;e--){var o=t[e].src.split(".").pop();"gif"===o&&resetGif(t[e])}}function hasClass(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function unhideAll(){for(var t=0;t<all_objects.length;++t)for(var e=all_objects[t],o=0;o<e.childNodes.length;o++)hasClass(e.childNodes[o],"cover")===!0&&(e.childNodes[o].style.visibility="visible")}function findElementByClass(t,e){for(var o=0;o<t.childNodes.length;o++)if(hasClass(t.childNodes[o],e)===!0){alert(t.childNodes[o].className);break}}HoverOnTouch.prototype.init=function(){this.all_objects=document.getElementsByClassName("hoverontouch"),this.pressTimer,this.longpress=!1},HoverOnTouch.prototype.rewriteLinks=function(){console.log("rewriteLinks");for(var t=0;t<this.all_objects.length;t++)if(object=this.all_objects[t],"A"===object.tagName){var e=object.getAttribute("href");e&&(object.setAttribute("data-link",e),object.removeAttribute("href"))}},HoverOnTouch.prototype.touchEvents=function(){for(var t=this,e=0;e<this.all_objects.length;e++){var o=this.all_objects[e];o.addEventListener("mouseenter",function(t){this.className+=" hoverontouch--aktiv",console.log("mouseEnter")}),o.addEventListener("mouseout",function(t){this.classList.remove("hoverontouch--aktiv"),console.log("mouseOut:"),console.log(t)}),o.addEventListener("touchstart",function(e){console.log("touchstart"),this.className+=" hoverontouch--aktiv",t.pressTimer=window.setTimeout(function(){console.log("timer end, longpress detected"),t.longpress=!0},250)}),o.addEventListener("touchend",function(e){if(console.log("touchend"),this.classList.remove("hoverontouch--aktiv"),clearTimeout(t.pressTimer),t.longpress)console.log("this was longpress"),t.longpress=!1;else if(this.getAttribute("data-link")){console.log(this.getAttribute("data-link"));var o=this.getAttribute("data-link");window.location.href=o,console.log("run redirect")}e.preventDefault()}),o.addEventListener("touchmove",function(t){console.log("moving")})}},document.addEventListener?document.addEventListener("touchstart",callback,!1):document.attachEvent("touchstart",callback),HoverOnTouch.prototype.removeIphoneDT=function(){},window.oncontextmenu=function(t){return t.preventDefault(),t.stopPropagation(),!1};var getClosest=function(t,e){for(var o=e.charAt(0);t&&t!==document;t=t.parentNode){if("."===o&&t.classList.contains(e.substr(1)))return t;if("#"===o&&t.id===e.substr(1))return t;if("["===o&&t.hasAttribute(e.substr(1,e.length-2)))return t;if(t.tagName.toLowerCase()===e)return t}return!1};