function HoverOnTouch(){this.init(),this.rewriteLinks(),this.touchEvents()}function findParent(e,t){if((t.nodeName||t.tagName).toLowerCase()===e.toLowerCase())return t;for(;t=t.parentNode;)if((t.nodeName||t.tagName).toLowerCase()===e.toLowerCase())return t;return null}function callback(e){var e=window.e||e;"A"===e.target.tagName&&console.log(e)}function resetGif(e){var t=e,o=t.src;t.src="#",t.src=o}function restartImagesIfGif(e){for(var t=e.length-1;t>=0;t--){var o=e[t].src.split(".").pop();"gif"===o&&resetGif(e[t])}}function hasClass(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function unhideAll(){for(var e=0;e<all_objects.length;++e)for(var t=all_objects[e],o=0;o<t.childNodes.length;o++)hasClass(t.childNodes[o],"cover")===!0&&(t.childNodes[o].style.visibility="visible")}function findElementByClass(e,t){for(var o=0;o<e.childNodes.length;o++)if(hasClass(e.childNodes[o],t)===!0){alert(e.childNodes[o].className);break}}HoverOnTouch.prototype.init=function(){this.all_objects=document.getElementsByClassName("hoverontouch"),this.pressTimer,this.longpress=!1},HoverOnTouch.prototype.rewriteLinks=function(){console.log("rewriteLinks");for(var e=0;e<this.all_objects.length;e++)if(object=this.all_objects[e],"A"===object.tagName){var t=object.getAttribute("href");t&&(object.setAttribute("data-link",t),object.removeAttribute("href"))}},HoverOnTouch.prototype.touchEvents=function(){for(var e=this,t=0;t<this.all_objects.length;t++){var o=this.all_objects[t];o.addEventListener("mouseenter",function(e){console.log("mouseEnter")}),o.addEventListener("mouseover",function(e){console.log("mouseOver:"),console.log(e)}),o.addEventListener("mouseout",function(e){this.classList.remove("hoverontouch--aktiv"),console.log("mouseOut:"),console.log(e)}),o.addEventListener("touchstart",function(t){this.className+=" hoverontouch--aktiv",console.log("touchstart"),e.pressTimer=window.setTimeout(function(){console.log("timer end"),e.longpress=!0},250),t.stopPropagation()}),o.addEventListener("touchend",function(t){if(console.log("touchend"),this.classList.remove("hoverontouch--aktiv"),clearTimeout(e.pressTimer),e.longpress)console.log("this was longpress"),e.longpress=!1;else{console.log(this.getAttribute("data-link"));var o=this.getAttribute("data-link");window.location.href=o,console.log("run redirect")}t.stopPropagation()})}},document.addEventListener?document.addEventListener("touchstart",callback,!1):document.attachEvent("touchstart",callback),HoverOnTouch.prototype.removeIphoneDT=function(){},window.oncontextmenu=function(e){return e.preventDefault(),e.stopPropagation(),!1};var getClosest=function(e,t){for(var o=t.charAt(0);e&&e!==document;e=e.parentNode){if("."===o&&e.classList.contains(t.substr(1)))return e;if("#"===o&&e.id===t.substr(1))return e;if("["===o&&e.hasAttribute(t.substr(1,t.length-2)))return e;if(e.tagName.toLowerCase()===t)return e}return!1};